# [Platinum III] 괄호 문자열과 쿼리 - 17407 

[문제 링크](https://www.acmicpc.net/problem/17407) 

### 성능 요약

메모리: 30240 KB, 시간: 328 ms

### 분류

자료 구조, 느리게 갱신되는 세그먼트 트리, 세그먼트 트리

### 제출 일자

2025년 2월 24일 21:54:37

### 문제 설명

<p>괄호 문자열은 '('와 ')'로 이루어진 문자열이고, 올바른 괄호 문자열은 다음과 같이 정의된다.</p>

<ol>
	<li>빈 문자열은 올바른 괄호 문자열이다.</li>
	<li>S가 올바른 괄호 문자열일 때, (S)도 올바른 괄호 문자열이다.</li>
	<li>S와 T가 올바른 괄호 문자열이라면, ST도 올바른 괄호 문자열이다.</li>
	<li>모든 올바른 괄호 문자열은 위의 3개 규칙으로만 만들 수 있다.</li>
</ol>

<p>'('와 ')'로 이루어진 괄호 문자열 S = s<sub>1</sub>s<sub>2</sub>...s<sub>N</sub>과 M개의 쿼리가 주어진다. 쿼리는 정수 하나 index로 이루어져 있고, 쿼리가 의미하는 것은 다음과 같다.</p>

<ul>
	<li>S의 i번째 문자가 '('면 ')'로, ')'면 '('로 변경한다.</li>
</ul>

<p>쿼리의 수행은 누적되며, i번째 쿼리는 i-1번째 쿼리가 수행된 결과에 수행되어야 한다. 각 쿼리를 수행한 결과가 올바른 괄호 문자열이었던 횟수를 모두 세어보자.</p>

### 입력 

 <p>첫째 줄에 문자열 S가 주어진다. 둘째 줄에 쿼리의 개수 M이 주어진다. 셋째 줄부터 M개의 줄에 쿼리 index가 한 줄에 하나씩 주어진다.</p>

### 출력 

 <p>첫째 줄에 쿼리를 수행한 결과가 올바른 괄호 문자열이었던 횟수를 출력한다.</p>

