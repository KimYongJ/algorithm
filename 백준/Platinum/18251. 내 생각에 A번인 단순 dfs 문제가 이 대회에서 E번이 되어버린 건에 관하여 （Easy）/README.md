# [Platinum IV] 내 생각에 A번인 단순 dfs 문제가 이 대회에서 E번이 되어버린 건에 관하여 (Easy) - 18251 

[문제 링크](https://www.acmicpc.net/problem/18251) 

### 성능 요약

메모리: 61072 KB, 시간: 376 ms

### 분류

다이나믹 프로그래밍, 그래프 이론, 그래프 탐색, 깊이 우선 탐색, 스위핑, 최대 부분 배열 문제

### 제출 일자

2025년 8월 24일 17:31:26

### 문제 설명

<p>욱제는 🎄포화이진트리🎄를 종이에 그렸다. 노드에 정수 가중치도 채워 넣었다. 욱제는 적당한 직사각형 영역을 잡아서, 영역 내에 있는 노드들의 가중치 합을 최대로 하고 싶다. 직사각형은 하나 이상의 노드를 포함해야 하고 직사각형은 비뚤어지면 안 된다.</p>

<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/89dac5d1-9f04-4037-89b0-4f183acb6c0e/-/preview/" style="width: 642px; height: 700px;"></p>

<p style="text-align: justify;">문제에서 생략된 정의는 다음과 같다. 이해가 안 되면 읽어보자.</p>

<ol>
	<li>직사각형은 축에 평행하며, 변이 노드에 걸치면 안 된다.</li>
	<li>모든 노드 <em>u</em>에 대해, <em>u</em>의 왼쪽 서브 트리에 속하는 모든 노드의 <em>x</em>좌표는, <em>u</em>의 <em>x</em>좌표보다 작다.</li>
	<li>모든 노드 <em>u</em>에 대해, <em>u</em>의 오른쪽 서브 트리에 속하는 모든 노드의 <em>x</em>좌표는, <em>u</em>의 <em>x</em>좌표보다 크다.</li>
	<li>자식 노드의 <em>y</em>좌표는 부모 노드의 <em>y</em>좌표보다 작다.</li>
	<li>트리에서의 깊이가 같은 노드의 <em>y</em>좌표는 모두 같다.</li>
</ol>

### 입력 

 <p>첫째 줄에 노드 개수 <em>N</em>이 주어진다. (1 ≤ <em>N</em> ≤ 262,143, <em>N</em>은 2<sup><em>k</em></sup>-1 꼴의 자연수)</p>

<p>둘째 줄에 노드의 가중치 <em>W<sub>i</sub></em>가 노드 번호 순서대로 주어진다. (-10<sup>9</sup> ≤ <em>W<sub>i</sub></em> ≤ 10<sup>9</sup>)</p>

<p>루트 노드의 번호는 1이고, <em>i</em>번 노드의 좌우 자식 노드의 번호는 각각 2×<em>i</em>, 2×<em>i</em>+1이다.</p>

### 출력 

 <p>욱제가 얻을 수 있는 가중치의 최대 합을 출력한다.</p>

