# [Platinum III] 순열 - 8330 

[문제 링크](https://www.acmicpc.net/problem/8330) 

### 성능 요약

메모리: 150992 KB, 시간: 1128 ms

### 분류

자료 구조, 그리디 알고리즘, 느리게 갱신되는 세그먼트 트리, 세그먼트 트리

### 제출 일자

2025년 3월 2일 11:47:25

### 문제 설명

<p>양의 정수로 이루어진 수열 a<sub>1</sub>, a<sub>2</sub>, ..., a<sub>n</sub>이 주어진다. 여기서, 1번부터 n번까지 숫자의 순서를 바꾸려고 한다. 이때, i번째 숫자는 a<sub>i</sub>보다 크면 안 된다. 즉, 모든 1 ≤ i ≤ n에 대해서 p<sub>i</sub> ≤ a<sub>i</sub>을 만족하는 1부터 n까지 이루어진 순열 p를 찾아야 한다.</p>

<p>수열이 주어졌을 때, 그리고 그 수열을 수정했을 때, 각각 순열을 만들 수 있는지 없는지를 판별하는 프로그램을 작성하시오.</p>

### 입력 

 <p>첫째 줄에 수열의 크기 n (1 ≤ n ≤ 200,000)이 주어진다. 둘째 줄에는 a<sub>i</sub>가 주어진다. 셋째 줄에는 수열을 수정한 횟수 m (0 ≤ m ≤ 500,000)이 주어진다. 다음 m개 줄에는 수열을 어떻게 수정했는지 한 줄에 하나씩 주어지며, 두 정수 j<sub>i</sub>와 w<sub>i</sub>로 이루어져 있다. (1 ≤ j<sub>i</sub>, w<sub>i</sub> ≤ n) j<sub>i</sub>번째 원소를 w<sub>i</sub>로 수정했다는 이미이다. 수정은 누적해서 이루어진다. 즉, i번째 수정은 (i-1)번 수정된 수열에서 이루어진다.</p>

### 출력 

 <p>출력은 총 m+1줄이다. 각 줄마다 순열을 만들 수 있으면 TAK을, 만들 수 없으면 NIE를 출력해야 한다.</p>

<p>첫째 줄에는 입력으로 주어진 수열을 이용해 문제의 조건에 맞는 순열을 만들 수 있는지를, 다음 m개 줄에는 각각의 수정이 이루어진 후에 순열을 만들 수 있는지를 출력한다.</p>

